"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[828],{130:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(689),c=n(87),u=n(184);function i(t){var e=t.movies,n=(0,r.TH)();return(0,u.jsx)("ul",{children:e.map((function(t){return(0,u.jsx)("li",{children:(0,u.jsx)(c.rU,{to:n.pathname.includes("movies")?"".concat(t.id):"movies/".concat(t.id),state:{from:n},children:t.title})},t.id)}))})}},828:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var r=n(861),c=n(439),u=n(757),i=n.n(u),o=n(791),a=n(87),s=n(184);function f(t){var e=t.onSubmit;return(0,s.jsxs)("form",{onSubmit:e,children:[(0,s.jsx)("input",{type:"text",name:"query",placeholder:"Movie title..."}),(0,s.jsx)("button",{type:"submit",children:"Search"})]})}var v=n(130),l=n(847),h=n(214);function m(){var t=(0,a.lr)(),e=(0,c.Z)(t,2),n=e[0],u=e[1],m=n.get("query"),d=(0,o.useState)([]),p=(0,c.Z)(d,2),x=p[0],y=p[1],k=(0,o.useState)(!1),w=(0,c.Z)(k,2),j=w[0],b=w[1],g=(0,o.useState)(null),Z=(0,c.Z)(g,2),_=Z[0],S=Z[1];(0,o.useEffect)((function(){if(m){var t=function(){var t=(0,r.Z)(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.next=3,(0,l.vw)(m);case 3:return e=t.sent,t.prev=4,t.next=7,e.json();case 7:n=t.sent,y(n.results),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),S(t.t0);case 14:return t.prev=14,b(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[4,11,14,17]])})));return function(){return t.apply(this,arguments)}}();t()}}),[m]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{onSubmit:function(t){t.preventDefault();var e=t.target.elements.query,n=""!==e.value.trim()?{query:e.value}:{};u(n),e.value=""}}),j&&(0,s.jsx)(h.Z,{}),m&&(0,s.jsx)(v.Z,{movies:x}),m&&0===x.length&&!j&&(0,s.jsxs)("div",{children:['We have 0 films titled "',m,'"']}),_&&(0,s.jsxs)("h3",{children:["Oops, something went wrong: ",_.message]})]})}},847:function(t,e,n){n.d(e,{Bt:function(){return s},Tg:function(){return u},Y5:function(){return o},vw:function(){return i},y:function(){return a}});var r="453b881a671dd013b145c543ca73b9df",c="https://api.themoviedb.org/3/",u=function(){return fetch("".concat(c,"trending/movie/week?api_key=").concat(r))},i=function(t){return fetch("".concat(c,"search/movie?api_key=").concat(r,"&query=").concat(t))},o=function(t){return fetch("".concat(c,"movie/").concat(t,"?api_key=").concat(r))},a=function(t){return fetch("".concat(c,"movie/").concat(t,"/credits?api_key=").concat(r))},s=function(t){return fetch("".concat(c,"movie/").concat(t,"/reviews?api_key=").concat(r))}},861:function(t,e,n){function r(t,e,n,r,c,u,i){try{var o=t[u](i),a=o.value}catch(s){return void n(s)}o.done?e(a):Promise.resolve(a).then(r,c)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(c,u){var i=t.apply(e,n);function o(t){r(i,c,u,o,a,"next",t)}function a(t){r(i,c,u,o,a,"throw",t)}o(void 0)}))}}n.d(e,{Z:function(){return c}})}}]);
//# sourceMappingURL=828.ecc8dc4a.chunk.js.map