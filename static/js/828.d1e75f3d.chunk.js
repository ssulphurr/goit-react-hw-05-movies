"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[828],{130:function(t,n,e){e.d(n,{Z:function(){return i}});var r=e(689),c=e(87),u=e(184);function i(t){var n=t.movies,e=(0,r.TH)();return(0,u.jsx)("ul",{children:n.map((function(t){return(0,u.jsx)("li",{children:(0,u.jsx)(c.rU,{to:e.pathname.includes("movies")?"".concat(t.id):"movies/".concat(t.id),state:{from:e},children:t.title})},t.id)}))})}},828:function(t,n,e){e.r(n),e.d(n,{default:function(){return m}});var r=e(861),c=e(439),u=e(757),i=e.n(u),o=e(791),a=e(87),s=e(184);function f(t){var n=t.onSubmit;return(0,s.jsxs)("form",{onSubmit:n,children:[(0,s.jsx)("input",{type:"text",name:"query",placeholder:"Movie title..."}),(0,s.jsx)("button",{type:"submit",children:"Search"})]})}var v=e(130),l=e(847),h=e(214);function m(){var t=(0,a.lr)(),n=(0,c.Z)(t,2),e=n[0],u=n[1],m=e.get("query"),d=(0,o.useState)([]),p=(0,c.Z)(d,2),x=p[0],y=p[1],k=(0,o.useState)(!1),b=(0,c.Z)(k,2),j=b[0],w=b[1];(0,o.useEffect)((function(){if(m){var t=function(){var t=(0,r.Z)(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),t.next=3,(0,l.vw)(m);case 3:return n=t.sent,t.prev=4,t.next=7,n.json();case 7:e=t.sent,y(e.results),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:return t.prev=14,w(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[4,11,14,17]])})));return function(){return t.apply(this,arguments)}}();t()}}),[m]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{onSubmit:function(t){t.preventDefault();var n=t.target.elements.query,e=""!==n.value.trim()?{query:n.value}:{};u(e),n.value=""}}),j&&(0,s.jsx)(h.Z,{}),m&&(0,s.jsx)(v.Z,{movies:x}),m&&0===x.length&&!j&&(0,s.jsxs)("div",{children:['We have 0 films titled "',m,'"']})]})}},847:function(t,n,e){e.d(n,{Bt:function(){return s},Tg:function(){return u},Y5:function(){return o},vw:function(){return i},y:function(){return a}});var r="453b881a671dd013b145c543ca73b9df",c="https://api.themoviedb.org/3/",u=function(){return fetch("".concat(c,"trending/movie/week?api_key=").concat(r))},i=function(t){return fetch("".concat(c,"search/movie?api_key=").concat(r,"&query=").concat(t))},o=function(t){return fetch("".concat(c,"movie/").concat(t,"?api_key=").concat(r))},a=function(t){return fetch("".concat(c,"movie/").concat(t,"/credits?api_key=").concat(r))},s=function(t){return fetch("".concat(c,"movie/").concat(t,"/reviews?api_key=").concat(r))}},861:function(t,n,e){function r(t,n,e,r,c,u,i){try{var o=t[u](i),a=o.value}catch(s){return void e(s)}o.done?n(a):Promise.resolve(a).then(r,c)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(c,u){var i=t.apply(n,e);function o(t){r(i,c,u,o,a,"next",t)}function a(t){r(i,c,u,o,a,"throw",t)}o(void 0)}))}}e.d(n,{Z:function(){return c}})}}]);
//# sourceMappingURL=828.d1e75f3d.chunk.js.map